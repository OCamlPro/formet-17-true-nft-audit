
\chapter{Contract NftRoot}

\minitoc

\section{Overview}


In file {\tt NftRoot.sol}

\section{Contract Inheritance}


\noindent\begin{tabular}{|l|p{5cm}|}\hline
DataResolver & \\\hline
IndexResolver & \\\hline
\end{tabular}


\section{Variable Definitions}


\ifsoltables
\noindent\begin{tabular}{|l|l|p{5cm}|}\hline
uint256 & \_{}totalMinted &  \\\hline
 & & assigned in @1.NftRoot.mintNft\\\hline
 & & used in @1.NftRoot.mintNft\\\hline
 & & used in @1.NftRoot.mintNft\\\hline
address & \_{}addrBasis &  \\\hline
 & & used in @1.NftRoot.destructBasis\\\hline
 & & assigned in @1.NftRoot.deployBasis\\\hline
 & & used in @1.NftRoot.deployBasis\\\hline
\end{tabular}
\fi


\begin{lstlisting}[firstnumber=16]
    uint256 _totalMinted;
\end{lstlisting}

\begin{lstlisting}[firstnumber=17]
    address _addrBasis;
\end{lstlisting}

\section{Constructor Definitions}


\subsection{Constructor}

\issueCritical{Constructor for NftRoot (fake)}{loren ipsum  loren ipsum  loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum

loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum loren ipsum
loren ipsum loren ipsum loren ipsum }
\begin{itemize}
\item TODO
\end{itemize}

\begin{lstlisting}[firstnumber=19]
    constructor(TvmCell codeIndex, TvmCell codeData) public {
        tvm.accept();
        _codeIndex = codeIndex;
        _codeData = codeData;
    }
\end{lstlisting}

\section{Public Method Definitions}


\subsection{Function deployBasis}

\begin{itemize}
\item TODO
\end{itemize}

\begin{lstlisting}[firstnumber=33]
    function deployBasis(TvmCell codeIndexBasis) public {
        require(msg.value > 0.5 ton, 104);
        uint256 codeHasData = resolveCodeHashData();
        TvmCell state = tvm.buildStateInit({
            contr: IndexBasis,
            varInit: {
                _codeHashData: codeHasData,
                _addrRoot: address(this)
            },
            code: codeIndexBasis
        });
        _addrBasis = new IndexBasis{stateInit: state, value: 0.4 ton}();
    }
\end{lstlisting}

\subsection{Function destructBasis}

\begin{itemize}
\item TODO
\end{itemize}

\begin{lstlisting}[firstnumber=47]
    function destructBasis() public view {
        IIndexBasis(_addrBasis).destruct();
    }
\end{lstlisting}

\subsection{Function mintNft}

\begin{itemize}
\item TODO
\end{itemize}

\begin{lstlisting}[firstnumber=25]
    function mintNft() public {
        TvmCell codeData = _buildDataCode(address(this));
        TvmCell stateData = _buildDataState(codeData, _totalMinted);
        new Data{stateInit: stateData, value: 1.1 ton}(msg.sender, _codeIndex);

        _totalMinted++;
    }
\end{lstlisting}
